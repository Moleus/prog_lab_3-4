\documentclass[a4paper, 11pt]{article}

\usepackage{forest} 

\usepackage{soul}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{multicol}

\usepackage[hidelinks]{hyperref} 

% Poles settings:
\usepackage[left=30mm, top=10mm, right=20mm, bottom=10mm, head=5mm, foot=9mm]{geometry}

\usepackage{fontspec}
\setmainfont{FreeSerif}
\setsansfont{FreeSans}
\setmonofont{FreeMono}

% Polyglossia:
\usepackage{polyglossia}
\setdefaultlanguage{russian}
\newfontfamily\cyrillicfont{FreeSerif}[Script=Cyrillic]

% Source code blocks
\usepackage[skins,minted]{tcolorbox}
\definecolor{mintedbackground}{rgb}{1,1,1}
\definecolor{mintedframe}{rgb}{0.70,0.85,0.95}

% Filename extractor
\makeatletter
\DeclareRobustCommand{\filename}[1]{%
 \begingroup
  % \lstname seems to change hyphens into \textendash
  \def\textendash{-}%
  \filename@parse{#1}%
  \texttt{\filename@base.\filename@ext}%
 \endgroup
}
\makeatother

% Minted conifg
\setminted[java]{
    bgcolor=mintedbackground,
    fontfamily=tt,
    linenos=true,
    numberblanklines=true,
    numbersep=12pt,
    numbersep=5pt,
    gobble=0,
    frame=leftline,
    framesep=2mm,
    funcnamehighlighting=true,
    tabsize=2,
    obeytabs=false,
    mathescape=false
    samepage=false,
    showspaces=false,
    showtabs=false,
    texcl=false,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    breaklines=true,
}

% One line code listing with filename extracted
\newtcbinputlisting[]{\javacode}[2][]{enhanced, listing engine=minted, 
listing only,#1,listing file={#2}, title=\filename{#2}, minted language=java, 
coltitle=mintedbackground!10!black, 
fonttitle=\ttfamily\small,
sharp corners, top=0mm, bottom=0mm,
title code={\path[draw=mintedframe,dashed](title.south west)--(title.south east);},
frame code={\path[draw=mintedframe](frame.south west) rectangle (frame.north east);}
}

\begin{document}
\input{title}

\tableofcontents
\vspace{2em}
\pagebreak{}

\section{Текст задания}
\input{task_rules.tex}
\pagebreak

\section{Описание предметной области для варианта 3617}
\input{task_text.tex}
\pagebreak

\section{Диаграмма классов объектной модели}
% \intput{class_diagram.tex}

% \section{Исходный код программы}
% \input{source_code.tex}

\section{Результат работы программы}
% \begin{center}
%   \inputminted[linenos=true, fontsize=\scriptsize]{text}{sample_output.txt}
% \end{center}

\section{Выводы по работе}
\input{conclusions}
\end{document}